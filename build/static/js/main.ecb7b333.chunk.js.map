{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Filter","search","setSearch","value","onChange","event","target","PersonForm","newName","number","setNewName","setNumber","handleSubmit","onSubmit","type","Person","person","deletePerson","name","onClick","Persons","persons","map","id","Notification","notificationMessage","successStyle","errorStyle","message","style","baseURL","personService","getPersons","a","axios","get","res","data","createPerson","post","updatePerson","put","delete","App","useState","setPersons","setNotificationMessage","useEffect","console","error","preventDefault","existingPerson","find","window","confirm","personObject","setTimeout","filter","recordsToShow","toLowerCase","includes","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wMAOeA,EAPA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,UAAX,OACb,oDACoB,IAClB,uBAAOC,MAAOF,EAAQG,SAAU,SAACC,GAAD,OAAWH,EAAUG,EAAMC,OAAOH,cCyBvDI,EA5BI,SAAC,GAAD,IACjBC,EADiB,EACjBA,QACAC,EAFiB,EAEjBA,OACAC,EAHiB,EAGjBA,WACAC,EAJiB,EAIjBA,UACAC,EALiB,EAKjBA,aALiB,OAOjB,uBAAMC,SAAUD,EAAhB,UACE,wCACQ,IACN,uBACET,MAAOK,EACPJ,SAAU,SAACC,GAAD,OAAWK,EAAWL,EAAMC,OAAOH,aAGjD,0CACU,IACR,uBACEA,MAAOM,EACPL,SAAU,SAACC,GAAD,OAAWM,EAAUN,EAAMC,OAAOH,aAGhD,8BACE,wBAAQW,KAAK,SAAb,uBCdSC,EATA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,8BACGD,EAAOE,KADV,IACiBF,EAAOP,OAAQ,IAC9B,wBAAQU,QAAS,kBAAMF,EAAaD,IAApC,sBAFMA,EAAOE,OCQJE,EARC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASJ,EAAZ,EAAYA,aAAZ,OACd,8BACGI,EAAQC,KAAI,SAACN,GAAD,OACX,cAAC,EAAD,CAAwBA,OAAQA,EAAQC,aAAcA,GAAzCD,EAAOO,UCMXC,EAXM,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,oBAAqBC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,WACzD,IAAKF,EAAoBX,KACvB,OAAO,KAFiE,IAIlEc,EAAkBH,EAAlBG,QAASd,EAASW,EAATX,KAEjB,OACE,qBAAKe,MAAgB,YAATf,EAAqBY,EAAeC,EAAhD,SAA6DC,K,gBCN3DE,EAAU,eAuBDC,EAFO,CAAEC,WAnBR,uCAAG,4BAAAC,EAAA,sEACCC,IAAMC,IAAIL,GADX,cACXM,EADW,yBAEVA,EAAIC,MAFM,2CAAH,qDAmBoBC,aAdlB,uCAAG,WAAOtB,GAAP,eAAAiB,EAAA,sEACDC,IAAMK,KAAKT,EAASd,GADnB,cACboB,EADa,yBAEZA,EAAIC,MAFQ,2CAAH,sDAcgCG,aAThC,uCAAG,WAAOjB,EAAIP,GAAX,eAAAiB,EAAA,sEACDC,IAAMO,IAAN,UAAaX,EAAb,YAAwBP,GAAMP,GAD7B,cACboB,EADa,yBAEZA,EAAIC,MAFQ,2CAAH,wDAS8CpB,aAJ9C,uCAAG,WAAOM,GAAP,SAAAU,EAAA,sEACbC,IAAMQ,OAAN,UAAgBZ,EAAhB,YAA2BP,IADd,2CAAH,uDCgIHoB,EA3IH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTvB,EADS,KACAwB,EADA,OAEcD,mBAAS,IAFvB,mBAETpC,EAFS,KAEAE,EAFA,OAGYkC,mBAAS,IAHrB,mBAGTnC,EAHS,KAGDE,EAHC,OAIYiC,mBAAS,IAJrB,mBAIT3C,EAJS,KAIDC,EAJC,OAKsC0C,mBAAS,CAC7DhB,QAAS,KACTd,KAAM,OAPQ,mBAKTW,EALS,KAKYqB,EALZ,KAUhBC,qBAAU,WACR,sBAAC,4BAAAd,EAAA,+EAEyBF,EAAcC,aAFvC,OAESX,EAFT,OAGGwB,EAAWxB,GAHd,gDAKG2B,QAAQC,MAAR,MALH,wDAAD,KAQC,IAEH,IAAMrC,EAAY,uCAAG,WAAOP,GAAP,uBAAA4B,EAAA,yDACnB5B,EAAM6C,mBAEAC,EAAiB9B,EAAQ+B,MAAK,SAACpC,GAAD,OAAYA,EAAOE,OAASV,OAG9D2C,EAAejC,OAASV,GACxB2C,EAAe1C,SAAWA,IAC1B4C,OAAOC,QAAP,UACK9C,EADL,wEAC4EC,EAD5E,MARiB,wBAYX8C,EAZW,2BAYSJ,GAZT,IAYyB1C,WAZzB,kBAcGsB,EAAcS,aAC9BW,EAAe5B,GACfgC,GAhBa,OAcTnB,EAdS,OAkBfU,EAAuB,CACrBlB,QAAQ,wBAAD,OAA0BQ,EAAIlB,KAA9B,kCAA4DiC,EAAe1C,OAA3E,eAAwF8C,EAAa9C,QAC5GK,KAAM,YAER0C,YAAW,WACTV,EAAuB,CAAElB,QAAS,KAAMd,KAAM,SAC7C,KACH+B,EACExB,EAAQC,KAAI,SAACN,GAAD,OAAaA,EAAOO,KAAOa,EAAIb,GAAKa,EAAMpB,MAExDN,EAAW,IACXC,EAAU,IA7BK,kDA+BfmC,EAAuB,CACrBlB,QAAQ,kBAAD,OAAoB2B,EAAarC,KAAjC,6CACPJ,KAAM,UAER0C,YAAW,WACTV,EAAuB,CAAElB,QAAS,KAAMd,KAAM,SAC7C,KArCY,WAyCdqC,EAzCc,wBA0CXI,EAAe,CACnBrC,KAAMV,EACNC,UA5Ce,oBA+CMsB,EAAcO,aAAaiB,GA/CjC,QA+CTvC,EA/CS,OAgDf8B,EAAuB,CACrBlB,QAAQ,SAAD,OAAWZ,EAAOE,MACzBJ,KAAM,YAER0C,YAAW,WACTV,EAAuB,CAAElB,QAAS,KAAMd,KAAM,SAC7C,KACH+B,EAAW,GAAD,mBAAKxB,GAAL,CAAcL,KACxBN,EAAW,IACXC,EAAU,IAzDK,mDA2DfqC,QAAQC,MAAR,MA3De,kEAAH,sDAgEZhC,EAAY,uCAAG,WAAOD,GAAP,eAAAiB,EAAA,yDACXV,EAAOP,EAAPO,IACJ8B,OAAOC,QAAP,iBAAyBtC,EAAOE,KAAhC,MAFe,gCAGXa,EAAcd,aAAaD,EAAOO,IAHvB,OAIjBsB,EAAWxB,EAAQoC,QAAO,SAACzC,GAAD,OAAYA,EAAOO,KAAOA,MAJnC,2CAAH,sDAQZmC,EAAgBzD,EAClBoB,EAAQoC,QAAO,SAACzC,GAAD,OAAYA,EAAOE,KAAKyC,cAAcC,SAAS3D,MAC9DoB,EAEJ,OACE,gCACE,2CACA,cAAC,EAAD,CACEI,oBAAqBA,EACrBC,aAAc,CACZmC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAEhBxC,WAAY,CACVkC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,MAIlB,cAAC,EAAD,CAAQlE,OAAQA,EAAQC,UAAWA,IAEnC,2CACA,cAAC,EAAD,CACEM,QAASA,EACTC,OAAQA,EACRC,WAAYA,EACZC,UAAWA,EACXC,aAAcA,IAGhB,yCACA,cAAC,EAAD,CAASS,QAASqC,EAAezC,aAAcA,QCzIrDmD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ecb7b333.chunk.js","sourcesContent":["const Filter = ({ search, setSearch }) => (\r\n  <div>\r\n    filter shown with{' '}\r\n    <input value={search} onChange={(event) => setSearch(event.target.value)} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","const PersonForm = ({\r\n  newName,\r\n  number,\r\n  setNewName,\r\n  setNumber,\r\n  handleSubmit,\r\n}) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div>\r\n      name:{' '}\r\n      <input\r\n        value={newName}\r\n        onChange={(event) => setNewName(event.target.value)}\r\n      />\r\n    </div>\r\n    <div>\r\n      number:{' '}\r\n      <input\r\n        value={number}\r\n        onChange={(event) => setNumber(event.target.value)}\r\n      />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","const Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <p key={person.name}>\r\n      {person.name} {person.number}{' '}\r\n      <button onClick={() => deletePerson(person)}>delete</button>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import Person from './Person';\r\n\r\nconst Persons = ({ persons, deletePerson }) => (\r\n  <div>\r\n    {persons.map((person) => (\r\n      <Person key={person.id} person={person} deletePerson={deletePerson} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Persons;\r\n","const Notification = ({ notificationMessage, successStyle, errorStyle }) => {\r\n  if (!notificationMessage.type) {\r\n    return null;\r\n  }\r\n  const { message, type } = notificationMessage;\r\n\r\n  return (\r\n    <div style={type === 'success' ? successStyle : errorStyle}>{message}</div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\nconst baseURL = '/api/persons';\r\n\r\nconst getPersons = async () => {\r\n  const res = await axios.get(baseURL);\r\n  return res.data;\r\n};\r\n\r\nconst createPerson = async (person) => {\r\n  const res = await axios.post(baseURL, person);\r\n  return res.data;\r\n};\r\n\r\nconst updatePerson = async (id, person) => {\r\n  const res = await axios.put(`${baseURL}/${id}`, person);\r\n  return res.data;\r\n};\r\n\r\nconst deletePerson = async (id) => {\r\n  await axios.delete(`${baseURL}/${id}`);\r\n};\r\n\r\nconst personService = { getPersons, createPerson, updatePerson, deletePerson };\r\n\r\nexport default personService;\r\n","import { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport personService from './services/person';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [number, setNumber] = useState('');\n  const [search, setSearch] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState({\n    message: null,\n    type: null,\n  });\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const persons = await personService.getPersons();\n        setPersons(persons);\n      } catch (error) {\n        console.error(error);\n      }\n    })();\n  }, []);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const existingPerson = persons.find((person) => person.name === newName);\n    if (\n      existingPerson &&\n      existingPerson.name === newName &&\n      existingPerson.number !== number &&\n      window.confirm(\n        `${newName} already exists in the phonebook replace the old number with ${number}?`\n      )\n    ) {\n      const personObject = { ...existingPerson, number };\n      try {\n        const res = await personService.updatePerson(\n          existingPerson.id,\n          personObject\n        );\n        setNotificationMessage({\n          message: `The number saved for ${res.name} has been changed from ${existingPerson.number} to ${personObject.number}`,\n          type: 'success',\n        });\n        setTimeout(() => {\n          setNotificationMessage({ message: null, type: null });\n        }, 5000);\n        setPersons(\n          persons.map((person) => (person.id === res.id ? res : person))\n        );\n        setNewName('');\n        setNumber('');\n      } catch (error) {\n        setNotificationMessage({\n          message: `Information of ${personObject.name} has already been removed from the server`,\n          type: 'error',\n        });\n        setTimeout(() => {\n          setNotificationMessage({ message: null, type: null });\n        }, 5000);\n      }\n    }\n\n    if (!existingPerson) {\n      const personObject = {\n        name: newName,\n        number,\n      };\n      try {\n        const person = await personService.createPerson(personObject);\n        setNotificationMessage({\n          message: `Added ${person.name}`,\n          type: 'success',\n        });\n        setTimeout(() => {\n          setNotificationMessage({ message: null, type: null });\n        }, 5000);\n        setPersons([...persons, person]);\n        setNewName('');\n        setNumber('');\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n\n  const deletePerson = async (person) => {\n    const { id } = person;\n    if (window.confirm(`Delete ${person.name}?`)) {\n      await personService.deletePerson(person.id);\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const recordsToShow = search\n    ? persons.filter((person) => person.name.toLowerCase().includes(search))\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        notificationMessage={notificationMessage}\n        successStyle={{\n          color: 'green',\n          background: 'lightgrey',\n          fontSize: 20,\n          borderStyle: 'solid',\n          borderRadius: 5,\n          padding: 10,\n          marginBottom: 10,\n        }}\n        errorStyle={{\n          color: 'red',\n          background: 'lightgrey',\n          fontSize: 20,\n          borderStyle: 'solid',\n          borderRadius: 5,\n          padding: 10,\n          marginBottom: 10,\n        }}\n      />\n\n      <Filter search={search} setSearch={setSearch} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        newName={newName}\n        number={number}\n        setNewName={setNewName}\n        setNumber={setNumber}\n        handleSubmit={handleSubmit}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={recordsToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}